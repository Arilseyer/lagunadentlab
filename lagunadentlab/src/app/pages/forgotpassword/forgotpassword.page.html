<app-navbar></app-navbar>

<ion-content>

  <div class="forgotpassword-container">

    <!-- Volver al inicio - fuera del card -->
    <a routerLink="/" class="back-link">
      ← Volver al inicio
    </a>

    <!-- Card ForgotPassword -->
    <div class="forgotpassword-card">

      <!-- Ícono superior -->
      <div class="icon-wrapper">
        <ion-icon name="mail-outline"></ion-icon>
      </div>

      <!-- Títulos -->
      <h1 class="forgotpassword-title">¿Olvidaste tu contraseña?</h1>
      <p class="forgotpassword-subtitle">Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña.</p>

      <!-- Formulario -->
      <form class="forgotpassword-form" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-field">
          <label class="field-label">Correo electrónico</label>
          <input
            type="email"
            class="field-input"
            placeholder="correo@ejemplo.com"
            formControlName="email"
            [class.invalid]="form.get('email')?.invalid && form.get('email')?.touched"
          />
          <div class="field-error" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
            Ingresa un correo válido.
          </div>
        </div>

        <button type="submit" class="btn-forgot" [disabled]="loading">
          {{ loading ? 'Enviando...' : 'Enviar enlace' }}
        </button>
        <div class="offline-hint" *ngIf="(isOnline$ | async) === false" style="margin-top:8px;color:var(--ion-color-warning)">
          Se necesita conexión a internet para este proceso
        </div>
      </form>

      <!-- Link a login -->
      <div class="login-link-section">
        <span>¿Recordaste tu contraseña?</span>
        <a (click)="goToLogin()" class="login-btn">Inicia sesión</a>
      </div>

    </div>

  </div>

</ion-content>
